<%- include ('../partials/header2.ejs') %>
<!--=================================
   Inner Header -->
<section class="inner-header bg-holder bg-overlay-black-90" style="background-image: url('images/bg/03.jpg');">
   <div class="container">
      <div class="row align-items-center position-relative">
         <div class="col-md-6 text-center text-md-start mb-2 mb-md-0">
            <h1 class="breadcrumb-title mb-0 text-white">Registration Page</h1>
         </div>
         <div class="col-md-6">
            <ol class="breadcrumb d-flex justify-content-center justify-content-md-end ms-auto">
               <li class="breadcrumb-item"><a href="/"><i class="fas fa-home me-1"></i>Home</a></li>
               <li class="breadcrumb-item active"><span>Registration Page</span></li>
            </ol>
         </div>
      </div>
   </div>
</section>
<!--=================================
   Inner Header -->
<!--=================================
   Checkout -->
<section class="space-ptb">
<div class="container">
   <div class="row">
      <div class="col-md-12">
         <div class="checkout border" style="background:rgb(183,239,197,0.1)!important">
            <div class="section-title">
               <h4 class="title text-dark px-4 py-2  mb-0" style="background:#1faae1 "> <span class="badge " style="background:#121242;color: white;"> Step 1 </span> Course Details</h4>
            </div>
            <form class="row mt-4 px-4">
               <div class="mb-3 select-border col-sm-6">
                  <label class="form-label">Class Type</label>
                  <select class="form-control basic-select" id="class_type">
                    <option value="">Select Class Type</option>
                    <option value="1">Class Rooms</option>
                     <option value="2">Virtual Classes</option>                    
                  </select>
               </div>
               <div class="mb-3 select-border col-sm-6">
                  <label class="form-label">Category</label>
                  <select class="form-control basic-select" id="category">
                     <option value="">Select Category</option>
                     <% for (var i = 0; i < category.length; i++) { %>
                          <option value="<%= category[i].id%>"><%= category[i].category%></option>                                         
                        <%                       
                      } %> 
                  </select>
               </div>
               <div class="mb-3 select-border col-sm-12">
                  <label class="form-label">Course type</label>
                  <select class="form-control basic-select" id="course_name">
                     <option value="">Select Course Type</option>                                 
                  </select>
               </div>
               <div class="mb-3 select-border col-sm-12">
                  <label class="form-label">Available Dates</label>
                  <table class="table table-bordered">
                     <thead>
                        <tr>
                           <th scope="col"></th>
                           <th scope="col">Date</th>
                           <th scope="col">City</th>
                           <th scope="col">Language</th>
                        </tr>
                     </thead>
                     <tbody id="available_dates">
                        
                       
                     </tbody>
                  </table>
               </div>
            </form>
         </div>
      </div>
   </div>
   <div class="row mt-5">
      <div class="col-md-12 ">
         <div class="checkout border" style="background:rgb(183,239,197,0.1)!important">
            <div class="section-title">
               <h4 class="title text-dark px-4 py-2  mb-0" style="background:#1faae1"><span class="badge " style="background:#121242;color: white;">Step 2 </span> Registration</h4>
            </div>
            <div class="px-4">
               <ul class="nav nav-tabs border-bottom" id="myTab" role="tablist" >
                  <li class="nav-item">
                     <a class="nav-link active company_paid" data-id="1" id="description-tab" data-bs-toggle="tab" href="#description" role="tab" aria-controls="description" aria-selected="true"><i class="fa fa-briefcase mr-1"></i> Company Paid</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link self_paid" data-id="2" id="tab-reviews" data-bs-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false"><i class="fa fa-user-circle"></i> Self Paid</a>
                  </li>
               </ul>
               <div class="tab-content mt-5" id="myTabContent">
                  <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
                     <div class="row">
                        <div class="col-sm-12">
                           <h5>Nominator Details</h5>
                           <div class="mb-3 col-sm-8">
                              <input type="email" class="form-control" placeholder="Email*" required>
                           </div>
                           <p><b>Returning Clients</b>: Enter your email address and click the Search button</p>
                           <p><b>New Clients</b>: Fill in all required fields</p>
                           <div class="row">
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_first_name"  placeholder="First Name*" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_last_name" placeholder="Last Name *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_designation" placeholder="Designation *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_mobile" placeholder="Phone Number *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_company" placeholder="Company *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_address" placeholder="Address *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_box" placeholder="P.O.Box *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="c_city" placeholder="City *" required>
                              </div>
                              <div class="mb-3 select-border col-sm-4">
                                 <select class="form-control basic-select" placeholder="Country"  required id="c_country">
                                    <option value="value 01" selected="selected">Countries</option>
                                    <option value="AR">Argentina</option>
                                    <option value="AM">Armenia</option>
                                    <option value="AW">Aruba</option>
                                    <option value="AU">Australia</option>
                                    <option value="BS">Bahamas</option>
                                    <option value="BH">Bahrain</option>
                                    <option value="BD">Bangladesh</option>
                                    <option value="BB">Barbados</option>
                                    <option value="KH">Cambodia</option>
                                    <option value="CM">Cameroon</option>
                                    <option value="CA">Canada</option>
                                    <option value="DK">Denmark</option>
                                    <option value="DJ">Djibouti</option>
                                    <option value="DM">Dominica</option>
                                    <option value="ER">Eritrea</option>
                                    <option value="EE">Estonia</option>
                                    <option value="ET">Ethiopia</option>
                                    <option value="FJ">Fiji</option>
                                    <option value="FI">Finland</option>
                                    <option value="FR">France</option>
                                    <option value="GA">Gabon</option>
                                    <option value="GM">Gambia</option>
                                    <option value="GE">Georgia</option>
                                    <option value="HT">Haiti</option>
                                    <option value="HK">Hong Kong</option>
                                    <option value="HU">Hungary</option>
                                    <option value="IS">Iceland</option>
                                    <option value="IN">India</option>
                                    <option value="ID">Indonesia</option>
                                    <option value="JP">Japan</option>
                                    <option value="JE">Jersey</option>
                                    <option value="JO">Jordan</option>
                                    <option value="KZ">Kazakhstan</option>
                                    <option value="KE">Kenya</option>
                                    <option value="KI">Kiribati</option>
                                    <option value="LV">Latvia</option>
                                    <option value="LB">Lebanon</option>
                                    <option value="LS">Lesotho</option>
                                    <option value="MG">Madagascar</option>
                                    <option value="MW">Malawi</option>
                                    <option value="MY">Malaysia</option>
                                    <option value="NA">Namibia</option>
                                    <option value="NR">Nauru</option>
                                    <option value="NP">Nepal</option>
                                    <option value="OM">Oman</option>
                                    <option value="PK">Pakistan</option>
                                    <option value="PW">Palau</option>
                                    <option value="PE">Peru</option>
                                    <option value="QA">Qatar</option>
                                    <option value="RE">Réunion</option>
                                    <option value="RO">Romania</option>
                                    <option value="RW">Rwanda</option>
                                    <option value="LC">Saint Lucia</option>
                                    <option value="WS">Samoa</option>
                                    <option value="SM">San Marino</option>
                                    <option value="TH">Thailand</option>
                                    <option value="TL">Timor-Leste</option>
                                    <option value="TG">Togo</option>
                                    <option value="UG">Uganda</option>
                                    <option value="UA">Ukraine</option>
                                    <option value="UY">Uruguay</option>
                                    <option value="VU">Vanuatu</option>
                                    <option value="VN">Viet Nam</option>
                                    <option value="EH">Western Sahara</option>
                                    <option value="YE">Yemen</option>
                                    <option value="ZM">Zambia</option>
                                    <option value="ZW">Zimbabwe</option>
                                 </select>
                              </div>
                           </div>
                           <!---row-->
                        </div>
                       
                     </div>
                     <div class="card p-2 m-0" style="background:#f2f2f2">
                        <h5>Participant 1</h5>
                        <div class="row " >
                           <div class="mb-3 col-sm-4">
                              <input type="text" class="form-control" id="p_first_name" placeholder="First Name*"  required>
                           </div>
                           <div class="mb-3 col-sm-4">
                              <input type="text" class="form-control"  id="p_last_name" placeholder="Last Name *"  required>
                           </div>
                           <div class="mb-3 col-sm-4">
                              <input type="text" class="form-control"  id="p_designation" placeholder="Designation *"  required>
                           </div>
                           <div class="mb-3 col-sm-4">
                              <input type="email" class="form-control" id="p_email" placeholder="Email *"  required>
                           </div>
                        </div>
                        <div class="addparticipants"></div>
                        <div class="d-flex justify-content-between">
                           <button id="add" class="btn add-more btn btn-primary btn-sm" type="button">+ Add Participant</button>
                           <button class="delete btn btn btn-warning btn-sm">- Remove Participant</button>
                        </div>
                     </div>
                     <div class="px-2 py-5 d-flex justify-content-between align-items-center">
                        <div class=""> 
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"/>
                          <label class="form-check-label p-0" for="flexCheckChecked">I accept the Terms and Conditions *</label>
                        </div>
                        </div>
                        <div>
                            <button class="btn btn-success btn-sm rounded-0" id="pay_online" disabled>Pay Online</button>
                           <button class="btn btn-primary btn-sm rounded-0" id="register_company_pay_btn" disabled>Register and Pay Later</button>                         
                        </div>
                     </div>
                     <div class="text-right" style="text-align: right;">5% VAT will be applicable to all courses held in the UAE and Saudi Arabia</div>
                     <!--card-->
                     
                  </div>
                  <!-----------description tab -->
                  <div class="tab-pane fade " id="reviews" role="tabpanel" aria-labelledby="description-tab">
                    <h5>Personal Details</h5>
                    <div class="row">
                              <div class="mb-3 col-sm-8">
                              <input type="email" class="form-control" id="email" placeholder="Email*"  required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="first_name" placeholder="First Name*"  required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="last_name" placeholder="Last Name *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="designation" placeholder="Designation *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="mobile" placeholder="Phone Number *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="company" placeholder="Company *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="address" placeholder="Address *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="box" placeholder="P.O.Box *" required>
                              </div>
                              <div class="mb-3 col-sm-4">
                                 <input type="text" class="form-control" id="city" placeholder="City *"  required>
                              </div>
                              <div class="mb-3 select-border col-sm-4">
                                 <select class="form-control basic-select" placeholder="Country" id="country"  required>
                                    <option value="value 01" selected="selected">Countries</option>
                                    <option value="AR">Argentina</option>
                                    <option value="AM">Armenia</option>
                                    <option value="AW">Aruba</option>
                                    <option value="AU">Australia</option>
                                    <option value="BS">Bahamas</option>
                                    <option value="BH">Bahrain</option>
                                    <option value="BD">Bangladesh</option>
                                    <option value="BB">Barbados</option>
                                    <option value="KH">Cambodia</option>
                                    <option value="CM">Cameroon</option>
                                    <option value="CA">Canada</option>
                                    <option value="DK">Denmark</option>
                                    <option value="DJ">Djibouti</option>
                                    <option value="DM">Dominica</option>
                                    <option value="ER">Eritrea</option>
                                    <option value="EE">Estonia</option>
                                    <option value="ET">Ethiopia</option>
                                    <option value="FJ">Fiji</option>
                                    <option value="FI">Finland</option>
                                    <option value="FR">France</option>
                                    <option value="GA">Gabon</option>
                                    <option value="GM">Gambia</option>
                                    <option value="GE">Georgia</option>
                                    <option value="HT">Haiti</option>
                                    <option value="HK">Hong Kong</option>
                                    <option value="HU">Hungary</option>
                                    <option value="IS">Iceland</option>
                                    <option value="IN">India</option>
                                    <option value="ID">Indonesia</option>
                                    <option value="JP">Japan</option>
                                    <option value="JE">Jersey</option>
                                    <option value="JO">Jordan</option>
                                    <option value="KZ">Kazakhstan</option>
                                    <option value="KE">Kenya</option>
                                    <option value="KI">Kiribati</option>
                                    <option value="LV">Latvia</option>
                                    <option value="LB">Lebanon</option>
                                    <option value="LS">Lesotho</option>
                                    <option value="MG">Madagascar</option>
                                    <option value="MW">Malawi</option>
                                    <option value="MY">Malaysia</option>
                                    <option value="NA">Namibia</option>
                                    <option value="NR">Nauru</option>
                                    <option value="NP">Nepal</option>
                                    <option value="OM">Oman</option>
                                    <option value="PK">Pakistan</option>
                                    <option value="PW">Palau</option>
                                    <option value="PE">Peru</option>
                                    <option value="QA">Qatar</option>
                                    <option value="RE">Réunion</option>
                                    <option value="RO">Romania</option>
                                    <option value="RW">Rwanda</option>
                                    <option value="LC">Saint Lucia</option>
                                    <option value="WS">Samoa</option>
                                    <option value="SM">San Marino</option>
                                    <option value="TH">Thailand</option>
                                    <option value="TL">Timor-Leste</option>
                                    <option value="TG">Togo</option>
                                    <option value="UG">Uganda</option>
                                    <option value="UA">Ukraine</option>
                                    <option value="UY">Uruguay</option>
                                    <option value="VU">Vanuatu</option>
                                    <option value="VN">Viet Nam</option>
                                    <option value="EH">Western Sahara</option>
                                    <option value="YE">Yemen</option>
                                    <option value="ZM">Zambia</option>
                                    <option value="ZW">Zimbabwe</option>
                                 </select>
                              </div>
                    </div>
                    <div class="px-2 py-5 d-flex justify-content-between align-items-center">
                        <div class=""> 
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"/>
                          <label class="form-check-label p-0" for="flexCheckChecked">I accept the Terms and Conditions *</label>
                        </div>
                        </div>
                        <div>
                            <button class="btn btn-success btn-sm rounded-0" disabled>Pay Online</button>
                           <button class="btn btn-primary btn-sm rounded-0" id="register_self_paid_btn">Register and Pay Later</button>                         
                        </div>
                     </div>
                     <div class="text-right" style="text-align: right;">5% VAT will be applicable to all courses held in the UAE and Saudi Arabia</div>
                  </div>
                  
                  <!-----------description tab -->
               </div>
               <!-----------tab  End-->
            </div>
         </div>
      </div>
   </div>
</div>
<!--=================================
   Checkout -->
   <div class="feedback-section" id="feedbackSection"><span></span></div>
   <%- include ('../partials/footer.ejs') %>
<script type="text/javascript">
   $(document).ready(function() {
     let count = 1;
   $(".delete").hide();
   
   //when the Add Field button is clicked
   $("#add").click(function(e) {
   // debugger;
   count++;
   $(".delete").fadeIn("1500");
   //Append a new row of code to the "#items" div
   
   $(".addparticipants").append(
   '<div class="addparticipantsdiv" style="background:#f2f2f2"><h5>Participant '+ count+' </h5><div class="row"><div class="mb-3 col-sm-4"><input type="text" class="form-control p_first_name" placeholder="First Name*"  required></div><div class="mb-3 col-sm-4"><input type="text" class="form-control l_last_name" id="" placeholder="Last Name *" required></div><div class="mb-3 col-sm-4"><input type="text" class="form-control p_designation" placeholder="Designation *" required></div><div class="mb-3 col-sm-4"><input type="email" class="form-control p_email" placeholder="Email *"  required></div></div></div>'
   );
   });
   $("body").on("click", ".delete", function(e) {
    $(".addparticipants").find(".addparticipantsdiv:last").remove();
    let check = $(".addparticipants").find(".addparticipantsdiv").length;
    if(check == 0)
    {
    $(".delete").hide();
    }
    count--;
   })
   .on('click','#register_self_paid_btn',function (){       
        let type = 2;
        let class_type = $('#class_type').val();  
        let category = $('#category').val();  
        let course_name = $('#course_name').val(); 
        let available_date = $('#dates_available').val();  
        let email = $('#email').val(); 
        let first_name = $('#first_name').val(); 
        let last_name = $('#last_name').val();  
        let designation = $('#designation').val();  
        let mobile = $('#mobile').val(); 
        let company = $('#company').val(); 
        let address = $('#address').val(); 
        let box = $('#box').val(); 
        let city = $('#city').val(); 
        let country = $('#country').val();       
        if(class_type==""){
            messageDisplay("Please select class type");
            return false;
        }
        if(category==""){
            messageDisplay("Please select category");
            return false;
        }
        if(course_name==""){
            messageDisplay("Please select course type");
            return false;
        }
        if(available_date==""){
            messageDisplay("Please select avilable date");
            return false;
        }
        if(email==""){
            messageDisplay("Please enter email");
            return false;
        }
        if(first_name==""){
            messageDisplay("Please enter first name");
            return false;
        }
        if(last_name==""){
            messageDisplay("Please enter last name");
            return false;
        }
        if(designation==""){
            messageDisplay("Please enter designation");
            return false;
        }
        if(mobile==""){
            messageDisplay("Please enter mobile");
            return false;
        }
        if(company==""){
            messageDisplay("Please enter company name");
            return false;
        }
        if(address==""){
            messageDisplay("Please enter address");
            return false;
        }
        if(box==""){
            messageDisplay("Please enter post box");
            return false;
        }
        if(city==""){
            messageDisplay("Please enter city");
            return false;
        }
        if(country==""){
            messageDisplay("Please select country");
            return false;
        }
        let formData=new FormData(); 
        formData.append('type',type); 
        formData.append('class_type',class_type);   
        formData.append('category',category);   
        formData.append('course_name',course_name);   
        formData.append('available_date',available_date);   
        formData.append('email',email);   
        formData.append('first_name',first_name);   
        formData.append('last_name',last_name);   
        formData.append('designation',designation);   
        formData.append('mobile',mobile);   
        formData.append('company',company);  
        formData.append('address',address);   
        formData.append('box',box);   
        formData.append('city',city);   
        formData.append('country',country);  

        $.ajax({
            type: "POST",
              url: '/save-register',           
              data: formData,
              dataType: "json",
              cache: false,
              contentType: false,
              processData: false,
              success: function (data) {          
                if (data.success) {
                    messageDisplay(data.message, 2000, "success");   
                    setTimeout(function(){ 
                       window.location.reload();
                    }, 2000); 
               }else{
                    messageDisplay(data.message, 2000, "error");                   
                }   
              },
          });
        })
        .on('click','#register_company_pay_btn',function (){       
        let type = 1;
        let class_type = $('#class_type').val();  
        let category = $('#category').val();  
        let course_name = $('#course_name').val(); 
        let available_date = 1;  

        let email = $('#c_email').val(); 
        let first_name = $('#c_first_name').val(); 
        let last_name = $('#c_last_name').val();  
        let designation = $('#c_designation').val();  
        let mobile = $('#c_mobile').val(); 
        let company = $('#c_company').val(); 
        let address = $('#c_address').val(); 
        let box = $('#c_box').val(); 
        let city = $('#c_city').val(); 
        let country = $('#c_country').val();   
        
        let p_first_name = $('#p_first_name').val(); 
        let p_last_name = $('#p_last_name').val();  
        let p_designation = $('#p_designation').val();  
        let p_email = $('#p_email').val(); 

        
         let participants = [];

         $(".addparticipantsdiv").each(function(){
            participants.push({
               firstname : $(this).find(".p_first_name").val(),  
               lastname : $(this).find(".l_last_name").val(),  
               designation : $(this).find(".p_designation").val(),
               email : $(this).find(".p_email").val(),             
            });            
         });
         // console.log(participants);return;
         const participantsDetails = JSON.stringify(participants);
    
        
            
        if(class_type==""){
            messageDisplay("Please select class type");
            return false;
        }
        if(category==""){
            messageDisplay("Please select category");
            return false;
        }
        if(course_name==""){
            messageDisplay("Please select course type");
            return false;
        }
        if(available_date==""){
            messageDisplay("Please select avilable date");
            return false;
        }
        if(email==""){
            messageDisplay("Please enter email");
            return false;
        }
        if(first_name==""){
            messageDisplay("Please enter first name");
            return false;
        }
        if(last_name==""){
            messageDisplay("Please enter last name");
            return false;
        }
        if(designation==""){
            messageDisplay("Please enter designation");
            return false;
        }
        if(mobile==""){
            messageDisplay("Please enter mobile");
            return false;
        }
        if(company==""){
            messageDisplay("Please enter company name");
            return false;
        }
        if(address==""){
            messageDisplay("Please enter address");
            return false;
        }
        if(box==""){
            messageDisplay("Please enter post box");
            return false;
        }
        if(city==""){
            messageDisplay("Please enter city");
            return false;
        }
        if(country==""){
            messageDisplay("Please select country");
            return false;
        }
        let formData=new FormData(); 
        formData.append('type',type); 
        formData.append('class_type',class_type);   
        formData.append('category',category);   
        formData.append('course_name',course_name);   
        formData.append('available_date',available_date);   
        formData.append('email',email);   
        formData.append('first_name',first_name);   
        formData.append('last_name',last_name);   
        formData.append('designation',designation);   
        formData.append('mobile',mobile);   
        formData.append('company',company);  
        formData.append('address',address);   
        formData.append('box',box);   
        formData.append('city',city);   
        formData.append('country',country);  

        formData.append('participantsDetails',participantsDetails);  
      

        $.ajax({
            type: "POST",
              url: '/save-register',           
              data: formData,
              dataType: "json",
              cache: false,
              contentType: false,
              processData: false,
              success: function (data) {          
                if (data.success) {
                    messageDisplay(data.message, 2000, "success");   
                    setTimeout(function(){ 
                       window.location.reload();
                    }, 2000); 
               }else{
                    messageDisplay(data.message, 2000, "error");                   
                }   
              },
          });
        })
      .on('change','#category',function (){ 
        let category = $('#category').val(); 
        let formData=new FormData(); 
        formData.append('category',category); 
       
        $.ajax({
            type: "POST",
              url: '/course-name-by-category',           
              data: formData,
              dataType: "json",
              cache: false,
              contentType: false,
              processData: false,
              success: function (data) {          
                if(data.course){                  
                      let course_data = data.course;
                        var tag ="";
                        course_data.forEach(function (data) { 
                          tag += '<option value="'+data.course_name+'">'+data.course_name+'</option>'
                        $("#course_name").html(tag);
                        });
                    }else{
                       tag = 'No Data Found'                                     
                        }
              },
          });
        }) 
        .on('change','#course_name',function (){ 
        let course_name = $('#course_name').val(); 
        let formData=new FormData(); 
        formData.append('course_name',course_name); 
       
        $.ajax({
            type: "POST",
              url: '/dates-by-course_name',           
              data: formData,
              dataType: "json",
              cache: false,
              contentType: false,
              processData: false,
              success: function (data) {          
                if(data.dates){                  
                      let course_data = data.dates;
                        var tag ="";
                        course_data.forEach(function (data) { 
                          tag += '<tr>'+
                           '<th scope="row"> <input type="radio" value='+data.start_date+"+' - "+data.end_date+' id="dates_available" name="fav_language" value="HTML"></th>'+
                           '<td>from '+data.start_date+' - to '+data.end_date+'  ,'+data.year+' </td>'+
                           '<td>'+data.location+'</td>'+
                           '<td>'+data.language+'</td>'+
                           '</tr>'

                        $("#available_dates").html(tag);
                        });
                    }else{
                       tag = 'No Data Found'                                     
                        }
              },
          });
        }) .on('click','#flexCheckChecked',function(){
         // $('#pay_online').removeAttribute('disabled');
         // $('#register_company_pay_btn').removeAttribute('disabled');
         $("#register_company_pay_btn").removeAttr('disabled');
        })
   });


   function messageDisplay(message, timeOut, type) {

    type = $.trim(type);
    if (type == "") {
        type = "error";
    }
    if ($.trim(timeOut) == "") {
        timeOut = 1500;
    }
    var element = $(".feedback-section");
    var color = "#f06b7c";
    if (type == "success") {
        color = "#4caf50";
    } else if (type == "error") {
        color = "#f06b7c";
    }
    element.attr("style", "background-color:" + color);
    $("div.feedback-section span").html(message);
    element.animate({
        height: 70
    }, 300).show();

    if (timeOut != -1) {
        setTimeout(function () {
            element.animate({
                height: 0
            }, 300, function () {
                element.hide();
            });
        }, timeOut);
    }

    }
   
</script>